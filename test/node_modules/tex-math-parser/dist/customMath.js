"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mathjs_1 = require("mathjs");
// use BigNumber to reduce floating-point rounding errors
const math = mathjs_1.create(mathjs_1.all, {
    number: 'BigNumber',
    precision: 64,
});
// Additional functions to be passed to the scope of math.evaluate(scope)
// (not defined in mathjs)
const mathImport = {
    lastFn: '',
    lastArgs: [],
    eigenvalues: (matrix) => math.eigs(matrix).values,
    eigenvectors: (matrix) => math.eigs(matrix).vectors,
    comp: (a, b) => math.divide(math.dot(a, b), math.norm(a)),
    proj: (a, b) => math.multiply(math.divide(a, math.norm(a)), math.divide(math.dot(a, b), math.norm(a))), // projection of b along a
};
math.import(mathImport, {
    override: true,
});
// hacky way to disable unit parsing
// https://github.com/josdejong/mathjs/issues/1220
const units = math.Unit.UNITS;
Object.keys(units).forEach((unit) => { delete units[unit]; });
exports.default = math;
